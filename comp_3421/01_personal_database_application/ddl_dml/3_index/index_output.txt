mysql> source index.sql
Database changed
Query OK, 0 rows affected (0.00 sec)

+-------------------------------+
|                               |
+-------------------------------+
| Single Relation without index |
+-------------------------------+
1 row in set (0.00 sec)

+--------------+-----------+--------------+---------------+
| actv_type    | avg_speed | avg_duration | avg_heartrate |
+--------------+-----------+--------------+---------------+
| Gym          |    0.0000 |      37.5523 |      129.9289 |
| Hiking       |    1.9966 |      30.0388 |      129.9844 |
| RockClimbing |    0.0000 |      37.4707 |      130.0599 |
| Running      |    4.0013 |      37.5155 |      130.0800 |
| Swimming     |    2.0024 |      29.9908 |      129.9847 |
| Cycling      |   15.5551 |      60.0000 |      129.4876 |
+--------------+-----------+--------------+---------------+
6 rows in set (1.10 sec)

Query OK, 0 rows affected (0.00 sec)

ERROR 1050 (42S01): Table 'Activities_Index' already exists
ERROR 1061 (42000): Duplicate key name 'idx_temp_activities_duration'
Query OK, 0 rows affected (0.00 sec)

+---------------------------------------+
|                                       |
+---------------------------------------+
| Single Relation WITH index on user_id |
+---------------------------------------+
1 row in set (0.00 sec)

+--------------+-----------+--------------+---------------+
| actv_type    | avg_speed | avg_duration | avg_heartrate |
+--------------+-----------+--------------+---------------+
| Gym          |    0.0000 |      37.5523 |      129.9289 |
| Hiking       |    1.9966 |      30.0388 |      129.9844 |
| RockClimbing |    0.0000 |      37.4707 |      130.0599 |
| Running      |    4.0013 |      37.5155 |      130.0800 |
| Swimming     |    2.0024 |      29.9908 |      129.9847 |
| Cycling      |   15.5551 |      60.0000 |      129.4876 |
+--------------+-----------+--------------+---------------+
6 rows in set (1.09 sec)

Query OK, 0 rows affected (0.00 sec)

+---------------------------------+
|                                 |
+---------------------------------+
| Two relation join without index |
+---------------------------------+
1 row in set (0.00 sec)

+-----------+-----------+--------------+---------------+
| actv_type | avg_speed | avg_duration | avg_heartrate |
+-----------+-----------+--------------+---------------+
| Cycling   |   15.4645 |      60.0000 |      110.4839 |
+-----------+-----------+--------------+---------------+
1 row in set (0.99 sec)

Query OK, 0 rows affected (0.00 sec)

+------------------------------+
|                              |
+------------------------------+
| Two relation join WITH index |
+------------------------------+
1 row in set (0.00 sec)

+-----------+-----------+--------------+---------------+
| actv_type | avg_speed | avg_duration | avg_heartrate |
+-----------+-----------+--------------+---------------+
| Cycling   |   15.4645 |      60.0000 |      110.4839 |
+-----------+-----------+--------------+---------------+
1 row in set (0.91 sec)

mysql> 
